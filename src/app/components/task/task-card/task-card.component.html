<div
  *ngIf="task"
  class="card bg-white shadow-md max-w-xl mx-auto rounded-t-lg border-l-4 border-primary"
>
  <div class="card-body p-4">
    <!-- header -->
    <div class="flex justify-between items-start mb-2">
      <h3 class="text-lg font-bold break-words leading-snug text-gray-900">
        {{ task.name }}
      </h3>

      <span
        class="badge badge-sm"
        [ngClass]="task.priority > 7 ? 'badge-error' : 'badge-info'"
      >
        P: {{ task.priority }}
      </span>
    </div>

    <!-- task details -->
    <div class="space-y-1 text-sm text-gray-700">
      <p *ngIf="task.todo">{{ task.todo }}</p>
      <p *ngIf="task.why" class="italic text-gray-600">
        Reason: {{ task.why }}
      </p>
      <a
        *ngIf="task.backupLink"
        [href]="task.backupLink"
        class="link link-primary"
        >Link</a
      >

      <div *ngIf="thereIsTags()" class="flex flex-wrap gap-1 pt-1">
        <span *ngFor="let tag of task.tags" class="badge badge-info badge-xs">{{
          tag
        }}</span>
      </div>

      <div class="flex flex-wrap gap-2 pt-1 text-gray-600">
        <span *ngIf="task.status" class="badge badge-outline badge-xs"
          >Status: {{ task.status }}</span
        >
        <span *ngIf="task.stage" class="badge badge-outline badge-xs"
          >Stage: {{ task.stage }}</span
        >
        <span *ngIf="task.duration" class="badge badge-outline badge-xs"
          >Dur: {{ task.duration }}</span
        >
        <span *ngIf="task.type" class="badge badge-outline badge-xs"
          >Type: {{ task.type }}</span
        >
        <span *ngIf="task.subtype" class="badge badge-outline badge-xs"
          >Subtype: {{ task.subtype }}</span
        >
        <span *ngIf="task.size" class="badge badge-outline badge-xs"
          >Size: {{ task.size }}</span
        >
        <span *ngIf="task.owner" class="badge badge-outline badge-xs"
          >Owner: {{ task.owner }}</span
        >
      </div>
    </div>

    <!-- footer -->
    <div
      class="mt-3 flex flex-wrap gap-3 text-xs text-gray-400 justify-between"
    >
      <span>Created: {{ task.timeCreated | date : "short" }}</span>
      <span>Updated: {{ task.lastUpdated | date : "short" }}</span>
      <span *ngIf="task.timeEnd"
        >Deadline: {{ task.timeEnd | date : "short" }}</span
      >
    </div>
  </div>
</div>
