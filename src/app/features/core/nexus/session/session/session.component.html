<div class="center-horizontal">
  <div class="fill-width width-task">
    <div class="task-session">
      <h2>Task Sessions</h2>

      <div class="create-session">
        <input matInput placeholder="Session Name" #sessionName />

        <div class="time-picker">
          <mat-form-field>
            <mat-label>Hours</mat-label>
            <input
              matInput
              type="number"
              placeholder="Hours"
              [(ngModel)]="hours"
            />
          </mat-form-field>
          <mat-form-field>
            <mat-label>Minutes</mat-label>
            <input
              matInput
              type="number"
              placeholder="Minutes"
              [(ngModel)]="minutes"
            />
          </mat-form-field>
          <mat-form-field>
            <mat-label>Seconds</mat-label>
            <input
              matInput
              type="number"
              placeholder="Seconds"
              [(ngModel)]="seconds"
            />
          </mat-form-field>
        </div>

        <button
          mat-button
          color="primary"
          (click)="createSession(sessionName.value, hours, minutes, seconds)"
        >
          Create Session
        </button>
      </div>

      <div class="sessions-list">
        <div
          *ngFor="let session of sessions"
          class="session-item"
          [ngClass]="{ 'selected-session': session.id === selectedSession?.id }"
        >
          <span (click)="setNavigator(session)">{{ session.name }}</span>
          <span>{{ convertSecondsToTime(session.duration) }}</span>
          <mat-icon (click)="deleteSession(session.id)">delete</mat-icon>
        </div>
      </div>

      <div *ngIf="selectedSession" class="session-timer">
        <h3>{{ selectedSession.name }}</h3>
        <p>Time Remaining: {{ remainingTime }}s</p>
        <button mat-button color="primary" (click)="startSession()">
          Start Session
        </button>
      </div>
    </div>

    <app-task-navigator [showArtificer]="true"></app-task-navigator>>
  </div>
</div>
